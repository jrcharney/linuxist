# File: ~/.tmux.conf
# Info: Apply settings to tmux
# See https://alvinalexander.com/linux-unix/tmux-cheat-sheet-cmmands-pdf
# Visit https://tmuxcheatsheet.com/ for usage and plugins

# TODO: Test version numbers.  tmux version is called using `tmux -V`
# 	For tmux version 2.1 on higher you can use `tmux-256color` for the default terminal.
set -g default-terminal "tmux-256color"
#	If that doesn't work, try using `screen-256color`
# set -g default-terminal "screen-256color"
# See https://wiki.archlinux.org/index.php/tmux#256_colors for details.

# set shell.
# Default is /bash/bin
# TODO: shold I point to "/bin/zsh -l"?
set -g default-shell /bin/zsh

setw -g mode-keys vi		# Set our mode keys to vi mode rather than emacs mode

# Disable mouse support. (You could enable it, but tmux is all about keyboard commands)
# setw -g mode-mouse          off
# set  -g mouse-select-pane   off
# set  -g mouse-resize-pane   off
# set  -g mouse-select-window off

# Enable activity alerts. (TODO: Try them later.)
# setw -g monitor-activity on
# set  -g visual-activity  on

# Center the window list
# set -g status-justify centre	# or is it "center"?

# Set the first window numbe to start at 1 instead of 0
set -g base-index 1

# Window commands (These still require a CTRL+B before calling them.
## Splits (Defaults are '%' and '"' respectively)
bind-key | split-window -h
bind-key - split-window -v
## Resizing (recommended if you are using a Mac keyboard, whichc doesn't support them properly)
## TODO: How to split equally?
bind -r C-h resize-pane -L
bind -r C-j resize-pane -D
bind -r C-k resize-pane -U
bind -r C-l resize-pane -R

# This is for tmuxline used in ~/.vimrc
# NOTE: DO NOT EDIT THIS FILE! It's settings are set by tmuxline.vim which are manipulated in the ~/.vimrc file
if-shell "test -f ~/.tmux-status.conf" "source ~/.tmux-status.conf"

# TMUX Plugin Manger (TPM), place this at the bottom of ~/.tmux.conf
# See https://github.com/tmux-plugins/tpm
# To install: `git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm`
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
# To add a new plugin:
# 1. Add the new plugin to `~/.tmux.conf` with `set -g @plugin 'LeroyJenkins/RepoName`
# 2. Press CTRL+B (or whatever your prefix is) then I (capital I) to install.
# 	tpm will fetch the plugin and clone it to ~/.tmux-plugins/ just like you would
# 	use Vundle in Vim.
# To remove a plugin:
# 1. Coment it out from the list. (This is fine if you want to temporarly disable it.)
# 2. CTRL+B then ALT+u	(lowercase u) to remove the plugins.
# Other Commands:
# 	CTRL+B + U (capital U)	Update plugins

# TMUX Open - Tmux key binding for quick opening of a highlighted file or url.
# See https://github.com/tmux-plugins/tmux-open
set -g @plugin 'tmux-plugins/tmux-open'

# TMUX Yank - Tmux plugin for copying to to the system clipboard.
# See https://github.com/tmux-plugins/tmux-yank
set -g @plugin 'tmux-plugins/tmux-yank'

# TMUX Copycat - Tmux plugin for enhanced tmux searches.
# 	Pairs well with TMUX Yank
# See https://github.com/tmux-plugins/tmux-copycat
set -g @plugin 'tmux-plugins/tmux-copycat'


# TMUX CPU - Adds a CPU monitor to status-right
# See https://github.com/tmux-plugins/tmux-cpu
# Note: Consider installing iostat or sar
## set -g @plugin 'tmux-plugins/tmux-cpu'
# We should add #{cpu_icon}, #{cpu_percentage} #{cpu_fg_color}, or #{cpu_bg_color} to status-right
# Optional requirements for Linux/BSD/OSX: install iostat or sar

# TMUX Battery - Adds a battery monitor to status-right
# See https://github.com/tmux-plugins/tmux-battery
# TMUX Battery likely requires acpi to be installed.
##set -g @plugin 'tmux-plugins/tmux-battery'

# TMUX Resurrect, Persistant tmux environments across restarts.
# See https://github.com/tmux-plugins/tmux-resurrect
set -g @plugin 'tmux-plugins/tmux-resurrect'
# Two important commands to remember when using this plugin
# prefix + Ctrl-s   save
# prefix + Ctrl-r   restore

# TMUX Continuum, Continuus saving of tmux enviroment. 
# 	Automatic restore when tmux is started. 
# 	Automatic tmux start when computer is turned on. (we're not going to do that)
# Requires tmux 1.9 or higher, bash, and tmux-resurrect.
# See https://github.com/tmux-plugins/tmux-continuum
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @continuum-save-interval '5'   # Save every five minutes
set -g @continuum-restore 'on'		    # Turn on automatic restore when tmux starts
# TODO AND URGENT: Find a way to remove OLD tmux-resurrect save points!

# TODO: Isn't there a line for making tmux's status line do airline stuff?

# Intilaize TPM. Keep this line the bottom
run '~/.tmux/plugins/tpm/tpm'

